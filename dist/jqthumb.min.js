/*!
    jQThumb 1.7.2
    Copyright (c) 2013-2014
    Dual licensed under the MIT and GPL licenses.

    Author       : Pak Cheong
    Version      : 1.7.2
    Repo         : https://github.com/pakcheong/jqthumb
    Demo         : http://pakcheong.github.io/jqthumb/
    Last Updated : Thursday, May 29th, 2014, 9:59:29 PM
    Requirements : jQuery v1.3 or later
*/
!function(a,b,c){function d(b,c){this.element=b,this.settings=a.extend({},f,c),this.settings.width=this.settings.width.toString().replace(/px/g,""),this.settings.height=this.settings.height.toString().replace(/px/g,""),this.settings.position.top=this.settings.position.top.toString().replace(/px/g,""),this.settings.position.left=this.settings.position.left.toString().replace(/px/g,""),this._defaults=f,this._name=e,"string"==typeof c?"kill"==c.toLowerCase()&&this.kill(this.element):this.init()}var e="jqthumb",f={classname:"jqthumb",width:100,height:100,position:{top:"50%",left:"50%"},source:"src",showoncomplete:!0,before:function(){},after:function(){},done:function(){}},g={elemCounter:0,totalElems:0,inputElems:{},outputElems:[]};d.prototype={init:function(){this.support_css3_attr("backgroundSize")===!1?this.nonCss3Supported_method(this.element,this.settings):this.css3Supported_method(this.element,this.settings)},kill:function(b){if(a.data(b,"plugin_"+e)){if(a(b).prev().data("plugin")!==e)return console.error("We could not find the element created by jqthumb. It is probably due to one or more element has been added right before the image element after the plugin initialization, or it was removed."),!1;a(b).prev().remove(),a(b).removeAttr("style"),"undefined"!=typeof a(b).data("original-styles")&&a(b).attr("style",a(b).data("original-styles")),"undefined"!=typeof a(b).data("original-styles")&&a(b).removeData("original-styles"),"undefined"!=typeof a(b).data("plugin_"+e)&&a(b).removeData("plugin_"+e)}},nonCss3Supported_method:function(b,c){c.before.call(b,b);var d=this;a(b).data("original-styles",a(b).attr("style")),a(b).hide(),a(b).one("load",function(){d.checkSrcAttrName(b,c);var f=a("<img/>").attr("src",a(b).attr("src"));a(f).load(function(){var g={obj:f,size:{width:this.width,height:this.height}},h=d.percentOrPixel(c.width),i=d.percentOrPixel(c.height),j=a("<div />"),k=0;a(j).insertBefore(a(b)).append(a(g.obj)).css({position:"relative",overflow:"hidden",width:"%"==h?c.width:c.width+"px",height:"%"==i?c.height:c.height+"px"}).data("plugin",e),g.size.width>g.size.height?(a(g.obj).css({width:"auto","max-height":99999999,"min-height":0,"max-width":99999999,"min-width":0,height:a(g.obj).parent().height()+"px"}),k=a(g.obj).height()/a(g.obj).width(),a(g.obj).width()<a(g.obj).parent().width()&&a(g.obj).css({width:a(g.obj).parent().width(),height:parseFloat(a(g.obj).parent().width()*k)})):(a(g.obj).css({width:a(g.obj).parent().width()+"px","max-height":99999999,"min-height":0,"max-width":99999999,"min-width":0,height:"auto"}),k=a(g.obj).width()/a(g.obj).height(),a(g.obj).height()<a(g.obj).parent().height()&&a(g.obj).css({width:parseFloat(a(g.obj).parent().height()*k),height:a(g.obj).parent().height()})),posTop="%"==d.percentOrPixel(c.position.top)?c.position.top:c.position.top+"px",posLeft="%"==d.percentOrPixel(c.position.left)?c.position.left:c.position.left+"px",a(g.obj).css({position:"absolute",top:posTop,"margin-top":function(){return"%"==d.percentOrPixel(c.position.top)?"-"+parseFloat(a(g.obj).height()/100*c.position.top.slice(0,-1))+"px":void 0},left:posLeft,"margin-left":function(){return"%"==d.percentOrPixel(c.position.left)?"-"+parseFloat(a(g.obj).width()/100*c.position.left.slice(0,-1))+"px":void 0}}),a(j).hide().addClass(c.classname),c.showoncomplete===!0&&a(j).show(),c.after.call(b,a(j)),d.updateGlobal(b,a(j),c)}).each(function(){a(f).load()})}).each(function(){a(b).load()})},css3Supported_method:function(b,c){c.before.call(b,b);var d=this;a(b).data("original-styles",a(b).attr("style")),a(b).hide(),a(b).one("load",function(){var f,g,h=d.percentOrPixel(c.width),i=d.percentOrPixel(c.height);f=a("<div/>").css({width:"%"==h?c.width:c.width+"px",height:"%"==i?c.height:c.height+"px",display:"none"}).addClass(c.classname).data("plugin",e),g=a("<div/>").css({width:"100%",height:"100%","background-image":'url("'+a(b).attr(c.source)+'")',"-ms-filter":'"progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+a(b).attr(c.source)+'",sizingMethod="scale")',"background-repeat":"no-repeat","background-position":function(){var a="%"==d.percentOrPixel(c.position.top)?c.position.top:c.position.top+"px",b="%"==d.percentOrPixel(c.position.left)?c.position.left:c.position.left+"px";return a+" "+b}(),"background-size":"cover"}).appendTo(a(f)),a(f).insertBefore(a(b)),c.showoncomplete===!0&&a(f).show(),d.checkSrcAttrName(b,c),c.after.call(b,a(f)),d.updateGlobal(b,a(f),c)}).each(function(){a(b).load()})},updateGlobal:function(b,c,d){g.outputElems.push(a(c)),g.elemCounter=g.elemCounter+1,g.elemCounter==g.totalElems&&d.done.call(b,g.outputElems)},checkSrcAttrName:function(b,c){"src"==c.source||"undefined"!=typeof a(b).attr("src")&&""!==a(b).attr("src")||a(b).attr("src",a(b).attr(c.source))},percentOrPixel:function(a){return a=a.toString(),a.match("px$")||a.match("PX$")||a.match("pX$")||a.match("Px$")?"px":a.match("%$")?"%":void 0},support_css3_attr:function(){{var a=c.createElement("div"),b="Khtml Ms O Moz Webkit".split(" ");b.length}return function(c){if(c in a.style)return!0;for(c=c.replace(/^[a-z]/,function(a){return a.toUpperCase()}),i=0;i<b.length;i++)if(b[i]+c in a.style)return!0;return!1}}()},a.fn[e]=function(b){a.isFunction(a.fn.addBack)===!1&&a.fn.extend({addBack:function(a){return this.add(null===a?this.prevObject:this.prevObject.filter(a))}});var c=a(this).find("*").addBack();return g.elemCounter=0,g.outputElems=[],g.inputElems=a(c),g.totalElems=a(c).length,this.each(function(){"string"==typeof b?new d(this,b):a.data(this,"plugin_"+e)?(new d(this,"kill"),a.data(this,"plugin_"+e,new d(this,b))):a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document);