/*
	Copyright (c) 2013-2013 Tho Pak Cheong
	Version: 1.0 (26-AUG-2013)
	Dual licensed under the MIT and GPL licenses.
	Requires: jQuery v1.2.5 or later
*/
(function(e){var t={classname:"jqthumb",width:100,height:100,showoncomplete:true,complete:function(){}};var n={init:function(r){options=e.extend({},t,r);return this.each(function(){var t=e(this);e(t).one("load",function(){n.makethumbnail(e(t))}).each(function(){if(this.complete){e(this).load()}})})},makethumbnail:function(t){e(t).hide();if(n.support_css3_attr("backgroundSize")==false){e(t).parent().css({position:"relative",overflow:"hidden",width:options.width+"px",height:options.height+"px"});var r={obj:e(t),size:n.getActualSize(e(t))};if(r.size.width>r.size.height){e(r.obj).css({width:"auto","max-height":99999999,"min-height":0,"max-width":99999999,"min-width":0,height:e(r.obj).parent().height()+"px"});var i=e(r.obj).height()/e(r.obj).width();if(e(r.obj).width()<e(r.obj).parent().width()){e(r.obj).css({width:e(r.obj).parent().width(),height:parseInt(e(r.obj).parent().width()*i)})}}else{e(r.obj).css({width:e(r.obj).parent().width()+"px","max-height":99999999,"min-height":0,"max-width":99999999,"min-width":0,height:"auto"});var i=e(r.obj).width()/e(r.obj).height();if(e(r.obj).height()<e(r.obj).parent().height()){e(r.obj).css({width:parseInt(e(r.obj).parent().height()*i),height:e(r.obj).parent().height()})}}if(e(r.obj).width()>e(r.obj).parent().width()){e(r.obj).css({position:"absolute",top:0,left:parseInt((e(r.obj).parent().width()-e(r.obj).width())/2)+"px"})}if(e(r.obj).height()>e(r.obj).parent().height()){e(r.obj).css({position:"absolute",top:parseInt((e(r.obj).parent().height()-e(r.obj).height())/2)+"px",left:0})}e(r.obj).addClass(options.classname);if(options.showoncomplete==true){e(r.obj).show()}options.complete.call(this,e(r.obj))}else{e(t).parent().css({width:options.width+"px",height:options.height+"px"});var s=e("<div/>").css({width:"100%",height:"100%","background-image":'url("'+e(t).attr("src")+'")',"background-repeat":"no-repeat","background-position":"center center","background-size":"cover",display:"none"}).addClass(options.classname).insertBefore(e(t));if(options.showoncomplete==true){e(s).show()}options.complete.call(t,e(s))}},getActualSize:function(e){var t=new Image;t.src=e.attr("src");e={width:t.width,height:t.height};return e},support_css3_attr:function(){var e=document.createElement("div"),t="Khtml Ms O Moz Webkit".split(" "),n=t.length;return function(r){if(r in e.style)return true;r=r.replace(/^[a-z]/,function(e){return e.toUpperCase()});while(n--){if(t[n]+r in e.style){return true}}return false}}()};e.fn.jqThumb=function(t){if(n[t]){return n[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return n.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on jQuery.mobileappsau")}}})(jQuery)